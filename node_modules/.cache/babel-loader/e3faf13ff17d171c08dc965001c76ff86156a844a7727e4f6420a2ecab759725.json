{"ast":null,"code":"var _jsxFileName = \"/Users/omarabdul/Desktop/uOttawa/a-slice-of-pi-dashboard/src/components/ReviewPieChart.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Pie } from 'react-chartjs-2';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\nimport { fetchReviews } from '../services/reviewService';\n\n// Registers components needed for Chart.js to render pie charts\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(ArcElement, Tooltip, Legend);\n\n// Defines the props for the ReviewPieChart component\n\n// Functional component for displaying a pie chart of reviews\nconst ReviewPieChart = ({\n  startDate,\n  endDate\n}) => {\n  _s();\n  // State for storing review data\n  const [reviewData, setReviewData] = useState([]);\n\n  // useEffect hook to fetch and filter review data based on the date range\n  useEffect(() => {\n    fetchReviews().then(data => {\n      const filteredData = data.filter(review => {\n        const reviewDate = new Date(review.date);\n        return reviewDate >= new Date(startDate) && reviewDate <= new Date(endDate);\n      });\n      setReviewData(filteredData);\n    });\n  }, [startDate, endDate]);\n\n  // Counts the number of reviews per sentiment\n  const sentimentCounts = reviewData.reduce((acc, review) => {\n    acc[review.sentiment] = (acc[review.sentiment] || 0) + 1;\n    return acc;\n  }, {});\n\n  // Data structure for the pie chart\n  const data = {\n    labels: Object.keys(sentimentCounts),\n    datasets: [{\n      data: Object.values(sentimentCounts),\n      backgroundColor: [\n      // Colors for each sentiment section\n      '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0'],\n      hoverBackgroundColor: [\n      // Colors for sections when hovered\n      '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0']\n    }]\n  };\n\n  // Returns the Pie chart component with the constructed data\n  return /*#__PURE__*/_jsxDEV(Pie, {\n    data: data\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 10\n  }, this);\n};\n_s(ReviewPieChart, \"IYpL58keaYgplE0KdSFqTXfijdc=\");\n_c = ReviewPieChart;\nexport default ReviewPieChart;\nvar _c;\n$RefreshReg$(_c, \"ReviewPieChart\");","map":{"version":3,"names":["React","useState","useEffect","Pie","Chart","ChartJS","ArcElement","Tooltip","Legend","fetchReviews","jsxDEV","_jsxDEV","register","ReviewPieChart","startDate","endDate","_s","reviewData","setReviewData","then","data","filteredData","filter","review","reviewDate","Date","date","sentimentCounts","reduce","acc","sentiment","labels","Object","keys","datasets","values","backgroundColor","hoverBackgroundColor","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/omarabdul/Desktop/uOttawa/a-slice-of-pi-dashboard/src/components/ReviewPieChart.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Pie } from 'react-chartjs-2';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\nimport { Review } from '../types';\nimport { fetchReviews } from '../services/reviewService';\n\n// Registers components needed for Chart.js to render pie charts\nChartJS.register(ArcElement, Tooltip, Legend);\n\n// Defines the props for the ReviewPieChart component\ninterface ReviewPieChartProps {\n  startDate: string;\n  endDate: string;\n}\n\n// Functional component for displaying a pie chart of reviews\nconst ReviewPieChart: React.FC<ReviewPieChartProps> = ({ startDate, endDate }) => {\n  // State for storing review data\n  const [reviewData, setReviewData] = useState<Review[]>([]);\n\n  // useEffect hook to fetch and filter review data based on the date range\n  useEffect(() => {\n    fetchReviews().then(data => {\n      const filteredData = data.filter(review => {\n        const reviewDate = new Date(review.date);\n        return reviewDate >= new Date(startDate) && reviewDate <= new Date(endDate);\n      });\n\n      setReviewData(filteredData);\n    });\n  }, [startDate, endDate]);\n\n  // Counts the number of reviews per sentiment\n  const sentimentCounts = reviewData.reduce((acc, review) => {\n    acc[review.sentiment] = (acc[review.sentiment] || 0) + 1;\n    return acc;\n  }, {} as Record<string, number>);\n\n  // Data structure for the pie chart\n  const data = {\n    labels: Object.keys(sentimentCounts),\n    datasets: [\n      {\n        data: Object.values(sentimentCounts),\n        backgroundColor: [\n          // Colors for each sentiment section\n          '#FF6384',\n          '#36A2EB',\n          '#FFCE56',\n          '#4BC0C0'\n        ],\n        hoverBackgroundColor: [\n          // Colors for sections when hovered\n          '#FF6384',\n          '#36A2EB',\n          '#FFCE56',\n          '#4BC0C0'\n        ]\n      }\n    ]\n  };\n\n  // Returns the Pie chart component with the constructed data\n  return <Pie data={data} />;\n};\n\nexport default ReviewPieChart;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,GAAG,QAAQ,iBAAiB;AACrC,SAASC,KAAK,IAAIC,OAAO,EAAEC,UAAU,EAAEC,OAAO,EAAEC,MAAM,QAAQ,UAAU;AAExE,SAASC,YAAY,QAAQ,2BAA2B;;AAExD;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACAN,OAAO,CAACO,QAAQ,CAACN,UAAU,EAAEC,OAAO,EAAEC,MAAM,CAAC;;AAE7C;;AAMA;AACA,MAAMK,cAA6C,GAAGA,CAAC;EAAEC,SAAS;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EAChF;EACA,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGjB,QAAQ,CAAW,EAAE,CAAC;;EAE1D;EACAC,SAAS,CAAC,MAAM;IACdO,YAAY,CAAC,CAAC,CAACU,IAAI,CAACC,IAAI,IAAI;MAC1B,MAAMC,YAAY,GAAGD,IAAI,CAACE,MAAM,CAACC,MAAM,IAAI;QACzC,MAAMC,UAAU,GAAG,IAAIC,IAAI,CAACF,MAAM,CAACG,IAAI,CAAC;QACxC,OAAOF,UAAU,IAAI,IAAIC,IAAI,CAACX,SAAS,CAAC,IAAIU,UAAU,IAAI,IAAIC,IAAI,CAACV,OAAO,CAAC;MAC7E,CAAC,CAAC;MAEFG,aAAa,CAACG,YAAY,CAAC;IAC7B,CAAC,CAAC;EACJ,CAAC,EAAE,CAACP,SAAS,EAAEC,OAAO,CAAC,CAAC;;EAExB;EACA,MAAMY,eAAe,GAAGV,UAAU,CAACW,MAAM,CAAC,CAACC,GAAG,EAAEN,MAAM,KAAK;IACzDM,GAAG,CAACN,MAAM,CAACO,SAAS,CAAC,GAAG,CAACD,GAAG,CAACN,MAAM,CAACO,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC;IACxD,OAAOD,GAAG;EACZ,CAAC,EAAE,CAAC,CAA2B,CAAC;;EAEhC;EACA,MAAMT,IAAI,GAAG;IACXW,MAAM,EAAEC,MAAM,CAACC,IAAI,CAACN,eAAe,CAAC;IACpCO,QAAQ,EAAE,CACR;MACEd,IAAI,EAAEY,MAAM,CAACG,MAAM,CAACR,eAAe,CAAC;MACpCS,eAAe,EAAE;MACf;MACA,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,CACV;MACDC,oBAAoB,EAAE;MACpB;MACA,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS;IAEb,CAAC;EAEL,CAAC;;EAED;EACA,oBAAO1B,OAAA,CAACR,GAAG;IAACiB,IAAI,EAAEA;EAAK;IAAAkB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC5B,CAAC;AAACzB,EAAA,CAhDIH,cAA6C;AAAA6B,EAAA,GAA7C7B,cAA6C;AAkDnD,eAAeA,cAAc;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}